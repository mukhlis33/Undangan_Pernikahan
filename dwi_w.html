<!DOCTYPE html>
<html lang="id" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Undangan Pernikahan Dwi Wardoyo & Elis Kurniasih</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#1a365d',
                        'secondary': '#2d3748',
                        'accent': '#c53030',
                        'light': '#f7fafc',
                        'gold': '#d4af37',
                        'wine': '#722F37',
                        'soft-red': '#b76e79'
                    },
                    fontFamily: {
                        'cursive': ['"Great Vibes"', 'cursive'],
                        'sans': ['"Inter"', 'sans-serif'],
                        'serif': ['"Playfair Display"', 'serif'],
                        'javanese': ['"Poppins"', 'sans-serif']
                    }
                }
            }
        }
    </script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-database-compat.js"></script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7fafc;
            color: #2d3748;
            overflow-x: hidden;
        }
        
        .section-hidden {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        .section-visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .cover-gradient {
            background: linear-gradient(rgba(114, 47, 55, 0.9), rgba(183, 110, 121, 0.8)), url('https://images.unsplash.com/photo-1519225421980-715cb0215aed?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80');
            background-size: cover;
            background-position: center;
        }
        
        .hero-pattern {
            background-image: radial-gradient(circle at 10% 20%, rgba(114, 47, 55, 0.1) 0%, rgba(114, 47, 55, 0.05) 90%);
        }
        
        .floral-divider {
            position: relative;
            height: 20px;
            margin: 2rem 0;
        }
        
        .floral-divider::before {
            content: "❀ ❀ ❀";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #b76e79;
            font-size: 1.2rem;
            letter-spacing: 0.5rem;
        }
        
        .card-hover {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .gold-gradient {
            background: linear-gradient(to right, #d4af37, #f7ef8a);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .wave-divider {
            position: relative;
            height: 50px;
            overflow: hidden;
        }
        
        .wave-divider svg {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 100%;
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #b76e79;
            border-radius: 10px;
        }
        
        /* Animation for floating elements */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        
        .floating {
            animation: float 5s ease-in-out infinite;
        }
        
        /* Heart beat animation */
        @keyframes heartbeat {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .heartbeat {
            animation: heartbeat 1.5s ease-in-out infinite;
        }
        
        /* Loading spinner */
        .spinner {
            border: 3px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            border-top: 3px solid #b76e79;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .javanese-date {
            background: linear-gradient(135deg, #722F37 0%, #b76e79 100%);
            color: white;
            border-radius: 10px;
            padding: 10px 20px;
            display: inline-block;
        }
        
        /* Chat bubble style for wishes */
        .chat-bubble {
            position: relative;
            background: #f8f9fa;
            border-radius: 15px;
            border-top-left-radius: 5px;
            padding: 15px;
            margin: 10px 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .chat-bubble::before {
            content: '';
            position: absolute;
            width: 0;
            height: 0;
            left: -10px;
            top: 0;
            border: 10px solid transparent;
            border-right-color: #f8f9fa;
            border-left: 0;
        }
        
        /* Custom form styling */
        .form-input {
            transition: all 0.3s ease;
        }
        
        .form-input:focus {
            border-color: #b76e79;
            box-shadow: 0 0 0 3px rgba(183, 110, 121, 0.1);
        }
        
        /* Wish item styling */
        .wish-item {
            background: linear-gradient(to right, #fef2f2, #fce7f3);
            border-left: 4px solid #b76e79;
            transition: all 0.3s ease;
        }
        
        .wish-item:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(183, 110, 121, 0.2);
        }
    </style>
</head>
<body class="max-w-lg mx-auto relative">

    <!-- COVER SECTION -->
    <div id="cover" class="fixed top-0 left-0 right-0 bottom-0 z-50 max-w-lg mx-auto cover-gradient text-white">
        <div class="w-full h-full flex flex-col justify-center items-center text-center p-8 relative overflow-hidden">
            <!-- Background pattern -->
            <div class="absolute inset-0 hero-pattern opacity-30"></div>
            
            <!-- Floating elements -->
            <div class="absolute top-10 left-10 text-white opacity-20 floating">
                <i class="fas fa-heart text-3xl"></i>
            </div>
            <div class="absolute bottom-16 right-10 text-white opacity-20 floating" style="animation-delay: 1s;">
                <i class="fas fa-ring text-3xl"></i>
            </div>
            
            <!-- Main cover content -->
            <div class="relative z-10">
                <p class="text-sm tracking-widest mb-2 opacity-80">UNDANGAN PERNIKAHAN</p>
                <h1 class="font-cursive text-6xl md:text-7xl my-4">Dwi & Elis</h1>
                
                <div class="my-6">
                    <div class="javanese-date mb-4">
                        <p class="text-lg mb-1">Jumat Wage s.d Sabtu Kliwon</p>
                        <p class="text-xl font-semibold">2 - 3 Januari 2026</p>
                    </div>
                    <p class="text-lg">Akad & Resepsi Pernikahan</p>
                </div>
                
                <div class="mt-8 mb-6">
                    <p id="wedding-date-cover" class="text-2xl font-bold">Ahad Manis, 4 Januari 2026</p>
                    <p class="text-lg mt-2">08.00 WIB - Selesai</p>
                </div>
                
                <div class="mt-12">
                    <p class="text-sm mb-2">Kepada Yth:</p>
                    <p id="guest-name" class="text-2xl font-bold mb-8">Bapak/Ibu/Saudara/i</p>
                    
                    <button id="open-invitation" class="bg-white text-wine hover:bg-gray-100 font-semibold py-3 px-8 rounded-full shadow-lg flex items-center mx-auto transition-all duration-300 transform hover:scale-105">
                        <i class="fas fa-envelope-open-text mr-2"></i>
                        Buka Undangan
                    </button>
                </div>
            </div>
            
            <div class="absolute bottom-4 text-center text-sm opacity-80">
                <p>Dengan Hormat Kami Mengundang Anda</p>
                <p class="mt-1 text-xs">"Dan di antara tanda-tanda kebesaran-Nya, Dia menciptakan pasangan-pasangan untukmu"</p>
            </div>
        </div>
    </div>

    <!-- MAIN CONTENT -->
    <main id="main-content" class="opacity-0">

        <!-- HERO SECTION -->
        <section id="hero" class="text-center p-8 md:p-12 bg-white min-h-screen flex flex-col justify-center relative overflow-hidden">
            <!-- Background decoration -->
            <div class="absolute top-0 left-0 w-40 h-40 bg-red-50 rounded-full -translate-x-20 -translate-y-20"></div>
            <div class="absolute bottom-0 right-0 w-60 h-60 bg-pink-50 rounded-full translate-x-20 translate-y-20"></div>
            
            <div class="relative z-10">
                <h2 class="text-sm tracking-widest text-wine mb-2">Merayakan Cinta & Kebahagiaan</h2>
                <h1 class="font-cursive text-7xl my-4 text-wine">Dwi & Elis</h1>
                
                <div class="floral-divider my-6"></div>
                
                <div class="max-w-md mx-auto">
                    <p class="text-lg mb-6 font-serif italic">"Dan di antara tanda-tanda kebesaran-Nya ialah Dia menciptakan pasangan-pasangan untukmu dari jenismu sendiri, agar kamu cenderung dan merasa tenteram kepadanya, dan Dia menjadikan di antaramu rasa kasih dan sayang."</p>
                    <p class="text-sm italic text-gray-600">QS. Ar-Rum: 21</p>
                </div>
                
                <div class="mt-10">
                    <div class="javanese-date">
                        <p class="text-xl font-semibold">Ahad Manis</p>
                        <p class="text-2xl font-bold">4 Januari 2026</p>
                        <p class="text-lg mt-2">08.00 WIB - Selesai</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- COUPLE SECTION -->
        <section id="couple" class="p-8 md:p-12 bg-gradient-to-b from-white to-pink-50 text-center">
            <h2 class="font-serif text-3xl font-bold mb-10 text-wine">Mempelai</h2>
            
            <div class="grid md:grid-cols-2 gap-10 max-w-xl mx-auto">
                <!-- Groom -->
                <div class="bg-white p-8 rounded-2xl shadow-lg card-hover border border-soft-red border-opacity-20">
                    <div class="w-32 h-32 mx-auto mb-6 rounded-full bg-gradient-to-r from-wine to-soft-red flex items-center justify-center text-white text-4xl font-bold">
                        DW
                    </div>
                    <h3 class="font-serif text-2xl font-bold text-wine mb-2">Dwi Wardoyo</h3>
                    <p class="text-sm text-gray-600 mb-4">Putra kedua dari</p>
                    <p class="font-medium">Bapak Siswadi & Ibu Polinah</p>
                    <p class="text-sm mt-2 text-gray-600">Kedungbenda RT 3 RW 3</p>
                    <p class="text-sm text-gray-600">Kec. Kemangkon, Kab. Purbalingga</p>
                    <div class="mt-6">
                        <a href="https://maps.app.goo.gl/1nbnTUMNqCC2tunZ7" target="_blank" class="text-soft-red hover:text-wine inline-flex items-center">
                            <i class="fas fa-map-marker-alt mr-2"></i> Lihat Lokasi
                        </a>
                    </div>
                </div>
                
                <!-- Bride -->
                <div class="bg-white p-8 rounded-2xl shadow-lg card-hover border border-soft-red border-opacity-20">
                    <div class="w-32 h-32 mx-auto mb-6 rounded-full bg-gradient-to-r from-soft-red to-pink-300 flex items-center justify-center text-white text-4xl font-bold">
                        EK
                    </div>
                    <h3 class="font-serif text-2xl font-bold text-wine mb-2">Elis Kurniasih</h3>
                    <p class="text-sm text-gray-600 mb-4">Putri pertama dari</p>
                    <p class="font-medium">Bapak Amin Setiyono Al Sakidi & Ibu Salinah</p>
                    <p class="text-sm mt-2 text-gray-600">Gumelem Kulon RT 6 RW 4</p>
                    <p class="text-sm text-gray-600">Kec. Susukan, Kab. Banjarnegara</p>
                    <div class="mt-6">
                        <a href="https://s.id/yUUVb" target="_blank" class="text-soft-red hover:text-wine inline-flex items-center">
                            <i class="fas fa-map-marker-alt mr-2"></i> Lihat Lokasi
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="mt-12 text-center">
                <div class="heartbeat inline-block text-soft-red text-4xl">
                    <i class="fas fa-heart"></i>
                </div>
                <p class="mt-4 text-lg text-gray-700">Dengan memohon rahmat dan ridho Allah SWT, kami bermaksud menyelenggarakan acara pernikahan putra-putri kami</p>
            </div>
        </section>

        <!-- WAVE DIVIDER -->
        <div class="wave-divider bg-white">
            <svg viewBox="0 0 1200 120" preserveAspectRatio="none">
                <path d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z" fill="#f7fafc"></path>
            </svg>
        </div>

        <!-- EVENT DETAILS -->
        <section id="event" class="p-8 md:p-12 bg-light text-wine">
            <h2 class="font-serif text-3xl font-bold mb-10 text-center">Acara Pernikahan</h2>
            
            <div class="max-w-xl mx-auto">
                <!-- Countdown -->
                <div class="bg-white p-6 rounded-2xl shadow-lg mb-10 border border-soft-red border-opacity-20">
                    <h3 class="text-xl font-bold mb-4 text-center">Menuju Hari Bahagia</h3>
                    <div id="countdown" data-date="2026-01-04T08:00:00" class="grid grid-cols-4 gap-4">
                        <div class="bg-wine text-white p-4 rounded-lg text-center">
                            <div id="days" class="text-3xl font-bold">0</div>
                            <div class="text-sm">Hari</div>
                        </div>
                        <div class="bg-wine text-white p-4 rounded-lg text-center">
                            <div id="hours" class="text-3xl font-bold">0</div>
                            <div class="text-sm">Jam</div>
                        </div>
                        <div class="bg-wine text-white p-4 rounded-lg text-center">
                            <div id="minutes" class="text-3xl font-bold">0</div>
                            <div class="text-sm">Menit</div>
                        </div>
                        <div class="bg-wine text-white p-4 rounded-lg text-center">
                            <div id="seconds" class="text-3xl font-bold">0</div>
                            <div class="text-sm">Detik</div>
                        </div>
                    </div>
                    
                    <div class="mt-6 text-center">
                        <a id="save-date-button" href="#" class="inline-block bg-soft-red hover:bg-wine text-white font-semibold py-2 px-6 rounded-full transition-all duration-300">
                            <i class="far fa-calendar-plus mr-2"></i>Simpan di Kalender
                        </a>
                    </div>
                </div>
                
                <!-- Event Details -->
                <div class="bg-white p-8 rounded-2xl shadow-lg border border-soft-red border-opacity-20">
                    <div class="text-center mb-8">
                        <div class="w-16 h-16 mx-auto mb-4 bg-wine rounded-full flex items-center justify-center text-white text-2xl">
                            <i class="fas fa-ring"></i>
                        </div>
                        <h3 class="text-2xl font-bold">Akad Nikah</h3>
                        <div class="mt-4">
                            <p class="text-lg">Ahad Manis, 4 Januari 2026</p>
                            <p class="text-xl font-bold mt-1">08.00 WIB</p>
                            <p class="text-sm mt-2 text-gray-600">Gumelem Kulon RT 6 RW 4</p>
                            <p class="text-sm text-gray-600">Kec. Susukan, Kab. Banjarnegara</p>
                        </div>
                    </div>
                    
                    <div class="mb-8">
                        <h4 class="font-bold text-lg mb-2 flex items-center">
                            <i class="fas fa-map-marker-alt mr-2 text-wine"></i> Lokasi Acara
                        </h4>
                        <p>Kediaman Mempelai Wanita, Gumelem Kulon RT 6 RW 4, Susukan, Banjarnegara</p>
                        
                        <!-- Maps Embed -->
                        <div class="mt-4 rounded-lg overflow-hidden border border-gray-200">
                            <iframe src="https://www.google.com/maps/embed?pb=!1m17!1m12!1m3!1d608.4558848159411!2d109.33568583865541!3d-7.473086986193974!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m2!1m1!2zN8KwMjgnMjMuOCJTIDEwOcKwMjAnMDguMyJF!5e1!3m2!1sid!2sid" width="100%" height="250" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                        </div>
                        
                        <a href="https://s.id/yUUVb" target="_blank" class="inline-block mt-3 text-wine hover:text-soft-red font-medium">
                            <i class="fas fa-external-link-alt mr-1"></i> Buka di Google Maps
                        </a>
                    </div>
                    
                    <div class="pt-6 border-t border-gray-200">
                        <div class="text-center">
                            <div class="w-16 h-16 mx-auto mb-4 bg-soft-red rounded-full flex items-center justify-center text-white text-2xl">
                                <i class="fas fa-glass-cheers"></i>
                            </div>
                            <h3 class="text-2xl font-bold">Resepsi Pernikahan</h3>
                            <div class="mt-4">
                                <p class="text-lg">Ahad Manis, 4 Januari 2026</p>
                                <p class="text-xl font-bold mt-1">08.00 WIB - Selesai</p>
                                <p class="text-sm mt-2 text-gray-600">Bertempat di lokasi yang sama</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-8 pt-6 border-t border-gray-200">
                        <div class="text-center">
                            <div class="w-16 h-16 mx-auto mb-4 bg-wine rounded-full flex items-center justify-center text-white text-2xl">
                                <i class="fas fa-hands-praying"></i>
                            </div>
                            <h3 class="text-2xl font-bold">Tasyakuran Keluarga</h3>
                            <div class="mt-4">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div class="text-center">
                                        <p class="font-semibold">Keluarga Mempelai Pria</p>
                                        <p class="text-sm">Jumat Wage - Sabtu Kliwon</p>
                                        <p class="font-bold">2-3 Januari 2026</p>
                                        <p class="text-xs mt-1 text-gray-600">Kedungbenda RT 3 RW 3, Kemangkon, Purbalingga</p>
                                        <a href="https://maps.app.goo.gl/1nbnTUMNqCC2tunZ7" target="_blank" class="inline-block mt-2 text-xs text-wine hover:text-soft-red">
                                            <i class="fas fa-map-marker-alt mr-1"></i> Lihat Peta
                                        </a>
                                    </div>
                                    <div class="text-center">
                                        <p class="font-semibold">Keluarga Mempelai Wanita</p>
                                        <p class="text-sm">Ahad Manis</p>
                                        <p class="font-bold">4 Januari 2026</p>
                                        <p class="text-xs mt-1 text-gray-600">Gumelem Kulon RT 6 RW 4, Susukan, Banjarnegara</p>
                                        <a href="https://s.id/yUUVb" target="_blank" class="inline-block mt-2 text-xs text-wine hover:text-soft-red">
                                            <i class="fas fa-map-marker-alt mr-1"></i> Lihat Peta
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- GIFT SECTION -->
        <section id="gift" class="p-8 md:p-12 bg-white text-wine">
            <h2 class="font-serif text-3xl font-bold mb-10 text-center">Amplop Digital</h2>
            
            <div class="max-w-md mx-auto bg-gradient-to-r from-wine to-soft-red p-8 rounded-2xl shadow-lg text-white">
                <div class="text-center mb-6">
                    <div class="w-20 h-20 mx-auto mb-4 bg-white rounded-full flex items-center justify-center text-wine text-3xl">
                        <i class="fas fa-gift"></i>
                    </div>
                    <p class="text-lg">Doa dan restu Anda merupakan hadiah terindah bagi kami. Namun jika berkenan memberikan tanda kasih, kami menerima melalui:</p>
                </div>
                
                <div class="space-y-6">
                    <!-- Bank 1 -->
                    <div class="bg-white bg-opacity-15 p-5 rounded-xl">
                        <div class="flex items-center mb-3">
                            <div class="w-10 h-10 bg-white rounded-full flex items-center justify-center text-wine mr-3">
                                <i class="fas fa-user"></i>
                            </div>
                            <div>
                                <h4 class="font-bold text-lg">Dwi Wardoyo</h4>
                                <p class="text-sm opacity-80">Bank Mandiri</p>
                            </div>
                        </div>
                        <div class="flex justify-between items-center mt-4">
                            <p class="font-mono text-xl tracking-wider">1800 0158 9358 1</p>
                            <button onclick="copyToClipboard('1800015893581', 'Nomor rekening Dwi Wardoyo berhasil disalin!')" class="bg-white text-wine hover:bg-gray-100 font-semibold py-2 px-4 rounded-full text-sm">
                                Salin
                            </button>
                        </div>
                    </div>
                    
                    <!-- Bank 2 -->
                    <div class="bg-white bg-opacity-15 p-5 rounded-xl">
                        <div class="flex items-center mb-3">
                            <div class="w-10 h-10 bg-white rounded-full flex items-center justify-center text-wine mr-3">
                                <i class="fas fa-user"></i>
                            </div>
                            <div>
                                <h4 class="font-bold text-lg">Elis Kurniasih</h4>
                                <p class="text-sm opacity-80">Bank Mandiri</p>
                            </div>
                        </div>
                        <div class="flex justify-between items-center mt-4">
                            <p class="font-mono text-xl tracking-wider">1800 0166 6306 6</p>
                            <button onclick="copyToClipboard('1800016663066', 'Nomor rekening Elis Kurniasih berhasil disalin!')" class="bg-white text-wine hover:bg-gray-100 font-semibold py-2 px-4 rounded-full text-sm">
                                Salin
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="mt-8 text-center">
                    <p class="text-sm opacity-80">Terima kasih atas doa dan restu yang telah diberikan</p>
                    <p class="text-xs mt-2 opacity-60">"Sesungguhnya Allah menyukai orang-orang yang memberi"</p>
                </div>
            </div>
        </section>

        <!-- RSVP SECTION - UPDATED DESIGN -->
        <section id="rsvp" class="p-8 md:p-12 bg-light text-wine">
            <h2 class="font-serif text-3xl font-bold mb-6 text-center">Buku Tamu & Ucapan</h2>
            <p class="text-center mb-10 max-w-md mx-auto">Berikan ucapan dan doa restu untuk kami melalui form berikut:</p>
            
            <div class="max-w-md mx-auto">
                <!-- Form Input -->
                <div class="bg-white p-8 rounded-2xl shadow-lg mb-8 border border-soft-red border-opacity-20">
                    <form id="rsvp-form">
                        <div class="mb-6">
                            <label for="nama" class="block text-sm font-medium mb-2">Nama Anda <span class="text-red-500">*</span></label>
                            <input type="text" id="nama" name="nama" class="w-full border border-gray-300 rounded-lg px-4 py-3 form-input focus:outline-none" placeholder="Masukkan nama lengkap" required>
                        </div>
                        
                        <div class="mb-6">
                            <label for="ucapan" class="block text-sm font-medium mb-2">Ucapan & Doa <span class="text-red-500">*</span></label>
                            <textarea id="ucapan" name="ucapan" rows="4" class="w-full border border-gray-300 rounded-lg px-4 py-3 form-input focus:outline-none" placeholder="Tuliskan ucapan dan doa untuk kami..." required></textarea>
                        </div>
                        
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center">
                                <div class="w-10 h-10 rounded-full bg-soft-red flex items-center justify-center text-white mr-3">
                                    <i class="fas fa-heart"></i>
                                </div>
                                <p class="text-sm text-gray-600">Kirim doa & ucapanmu</p>
                            </div>
                            <button type="submit" id="submit-btn" class="bg-gradient-to-r from-soft-red to-wine hover:opacity-90 text-white font-semibold py-3 px-6 rounded-full transition-all duration-300 flex items-center">
                                <span id="submit-text">Kirim</span>
                                <div id="submit-spinner" class="spinner ml-2 hidden"></div>
                            </button>
                        </div>
                        
                        <div id="form-message" class="mt-4 text-center hidden"></div>
                    </form>
                </div>
                
                <!-- Wishes Display - UPDATED DESIGN -->
                <div class="bg-white p-6 rounded-2xl shadow-lg border border-soft-red border-opacity-20">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-xl font-bold flex items-center">
                            <i class="fas fa-comments mr-2 text-soft-red"></i>
                            Ucapan dari Tamu
                        </h3>
                        <div class="text-sm text-gray-500" id="wishes-count">Memuat...</div>
                    </div>
                    
                    <div id="wishes-container" class="space-y-4 max-h-96 overflow-y-auto p-2">
                        <div id="loading-wishes" class="text-center py-8">
                            <div class="spinner mx-auto"></div>
                            <p class="mt-4 text-gray-500">Memuat ucapan...</p>
                        </div>
                        <p id="no-wishes" class="text-center text-gray-500 py-8 hidden">
                            <i class="fas fa-inbox text-3xl mb-3 text-gray-300"></i><br>
                            Belum ada ucapan. Jadilah yang pertama!
                        </p>
                        <div id="wishes-list" class="space-y-4"></div>
                        <p id="wishes-error" class="text-center text-red-500 py-8 hidden">
                            <i class="fas fa-exclamation-triangle text-2xl mb-3"></i><br>
                            Gagal memuat ucapan. Silakan refresh halaman.
                        </p>
                    </div>
                    
                    <div class="mt-6 pt-4 border-t border-gray-100 text-center">
                        <p class="text-sm text-gray-500">Terima kasih atas setiap doa dan ucapan yang diberikan</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- FOOTER -->
        <footer class="p-8 md:p-12 bg-wine text-white text-center">
            <div class="max-w-md mx-auto">
                <h2 class="font-cursive text-4xl mb-6">Dwi & Elis</h2>
                
                <div class="mb-8">
                    <p class="text-lg">Atas kehadiran dan doa restunya, kami mengucapkan terima kasih.</p>
                    <p class="mt-4 text-xl font-serif italic">Wassalamu'alaikum Warahmatullahi Wabarakatuh</p>
                </div>
                
                <div class="flex justify-center space-x-6 mb-8">
                    <a href="https://wa.me/62?text=Assalamu'alaikum,%20saya%20konfirmasi%20kehadiran%20untuk%20acara%20pernikahan%20Dwi%20%26%20Elis" target="_blank" class="text-white hover:text-pink-200 text-xl">
                        <i class="fab fa-whatsapp"></i>
                    </a>
                    <a href="tel:+62" class="text-white hover:text-pink-200 text-xl">
                        <i class="fas fa-phone"></i>
                    </a>
                </div>
                
                <div class="pt-6 border-t border-white border-opacity-20">
                    <p class="text-sm opacity-80">Dengan mengunduh Bapak/Ibu/Saudara/i, kami sekeluarga memohon doa restu</p>
                    <p class="text-xs mt-2 opacity-60">© 2026 - Undangan Pernikahan Dwi Wardoyo & Elis Kurniasih</p>
                </div>
            </div>
        </footer>
    </main>

    <!-- BOTTOM NAVIGATION -->
    <div id="bottom-nav" class="hidden fixed bottom-4 left-1/2 -translate-x-1/2 w-[calc(100%-2rem)] max-w-sm z-40">
        <div class="bg-white shadow-2xl rounded-full p-2 flex justify-around items-center text-wine border border-gray-200">
            <a href="#hero" class="p-3 rounded-full hover:bg-pink-50 text-wine"><i class="fas fa-home"></i></a>
            <a href="#couple" class="p-3 rounded-full hover:bg-pink-50 text-wine"><i class="fas fa-heart"></i></a>
            <a href="#event" class="p-3 rounded-full hover:bg-pink-50 text-wine"><i class="fas fa-calendar-day"></i></a>
            <a href="#gift" class="p-3 rounded-full hover:bg-pink-50 text-wine"><i class="fas fa-gift"></i></a>
            <a href="#rsvp" class="p-3 rounded-full hover:bg-pink-50 text-wine"><i class="fas fa-comment-dots"></i></a>
        </div>
    </div>

    <!-- MUSIC TOGGLE -->
    <button id="music-toggle" class="hidden fixed bottom-20 right-4 bg-white shadow-xl w-12 h-12 rounded-full z-40 flex justify-center items-center text-wine border border-gray-200">
        <i id="music-icon" class="fas fa-music"></i>
    </button>

    <audio id="background-music" loop src="audio_wedding.mp3"></audio>

    <!-- NOTIFICATION -->
    <div id="notification" class="hidden fixed top-5 left-1/2 -translate-x-1/2 bg-soft-red text-white text-sm py-2 px-6 rounded-full shadow-lg z-50">
        <p>Teks notifikasi</p>
    </div>

    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDLrbafcvpy_3vJbwNG2mvlllOMTqk1ggc",
            authDomain: "buku-tamu-nikahan-5dc3b.firebaseapp.com",
            databaseURL: "https://buku-tamu-nikahan-5dc3b-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "buku-tamu-nikahan-5dc3b",
            storageBucket: "buku-tamu-nikahan-5dc3b.firebasestorage.app",
            messagingSenderId: "719498963668",
            appId: "1:719498963668:web:b09e08d469f001e5fa6941"
        };

        // Notification function
        const notification = document.getElementById('notification');
        function showNotification(message, isError = false) {
            notification.querySelector('p').textContent = message;
            notification.className = isError 
                ? 'fixed top-5 left-1/2 -translate-x-1/2 bg-red-600 text-white text-sm py-2 px-6 rounded-full shadow-lg z-50'
                : 'fixed top-5 left-1/2 -translate-x-1/2 bg-soft-red text-white text-sm py-2 px-6 rounded-full shadow-lg z-50';
            notification.classList.remove('hidden');
            
            setTimeout(() => {
                notification.classList.add('hidden');
            }, 3000);
        }
        
        // Copy to clipboard function
        function copyToClipboard(text, message) {
            navigator.clipboard.writeText(text)
                .then(() => showNotification(message))
                .catch(() => showNotification('Gagal menyalin teks', true));
        }
        
        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            const cover = document.getElementById('cover');
            const mainContent = document.getElementById('main-content');
            const openButton = document.getElementById('open-invitation');
            const music = document.getElementById('background-music');
            const musicToggle = document.getElementById('music-toggle');
            const musicIcon = document.getElementById('music-icon');
            const bottomNav = document.getElementById('bottom-nav');
            const countdownEl = document.getElementById('countdown');
            const targetDate = new Date(countdownEl.dataset.date);

            // Initialize Firebase
            let db;
            try {
                firebase.initializeApp(firebaseConfig);
                db = firebase.database();
                console.log("Firebase initialized successfully");
            } catch (error) {
                console.error("Firebase initialization error:", error);
                showNotification("Gagal menghubungkan ke database", true);
            }

            // Get guest name from URL
            const urlParams = new URLSearchParams(window.location.search);
            const guest = urlParams.get('nama');
            if (guest) {
                document.getElementById('guest-name').textContent = decodeURIComponent(guest.replace(/\+/g, ' '));
                document.getElementById('nama').value = decodeURIComponent(guest.replace(/\+/g, ' '));
            }

            // Set wedding date on cover
            document.getElementById('wedding-date-cover').textContent = "Ahad Manis, 4 Januari 2026";

            // Calendar link setup
            function formatToUTC(date, hours, minutes) {
                let d = new Date(date);
                d.setUTCHours(hours, minutes, 0, 0);
                return d.toISOString().replace(/-|:|\.\d+/g, "");
            }
            
            const eventStartDate = formatToUTC(targetDate, 1, 0); // 08:00 WIB is 01:00 UTC
            const eventEndDate = formatToUTC(targetDate, 12, 0); // Selesai sekitar 19:00 WIB is 12:00 UTC
            const calendarLink = `https://www.google.com/calendar/render?action=TEMPLATE&text=Pernikahan+Dwi+Wardoyo+%26+Elis+Kurniasih&dates=${eventStartDate}/${eventEndDate}&details=Acara+pernikahan+Dwi+Wardoyo+dan+Elis+Kurniasih.+Lokasi:+Gumelem+Kulon+RT+6+RW+4,+Susukan,+Banjarnegara&location=Gumelem+Kulon+RT+6+RW+4,+Susukan,+Banjarnegara`;
            document.getElementById('save-date-button').href = calendarLink;

            // Open invitation button
            openButton.addEventListener('click', () => {
                cover.classList.add('hidden');
                mainContent.style.transition = 'opacity 1s 0.5s';
                mainContent.style.opacity = '1';
                bottomNav.classList.remove('hidden');
                musicToggle.classList.remove('hidden');
                
                // Try to play music
                try {
                    music.volume = 0.5; // Set volume to 50%
                    const musicPromise = music.play();
                    if (musicPromise !== undefined) {
                        musicPromise.catch(error => {
                            console.log("Autoplay prevented. User needs to interact first.");
                            musicToggle.addEventListener('click', () => {
                                if (music.paused) {
                                    music.play();
                                }
                            }, { once: true });
                        });
                    }
                } catch (error) {
                    console.error("Music error:", error);
                    musicToggle.style.display = 'none';
                }
                
                document.body.style.overflowY = 'auto';
                observeSections();
                
                // Load wishes after opening invitation
                loadWishes();
            });

            // Music toggle
            let isPlaying = false;
            musicToggle.addEventListener('click', () => {
                if (isPlaying) {
                    music.pause();
                } else {
                    music.play();
                }
            });

            music.onplay = () => {
                isPlaying = true;
                musicIcon.className = 'fas fa-pause';
            };
            
            music.onpause = () => {
                isPlaying = false;
                musicIcon.className = 'fas fa-music';
            };

            // Countdown timer
            const countdownInterval = setInterval(() => {
                const now = new Date().getTime();
                const distance = targetDate.getTime() - now;
                
                if (distance < 0) {
                    clearInterval(countdownInterval);
                    countdownEl.innerHTML = "<p class='col-span-4 text-xl text-center py-4'>Acara telah dilaksanakan. Terima kasih!</p>";
                    return;
                }
                
                document.getElementById('days').textContent = Math.floor(distance / (1000 * 60 * 60 * 24));
                document.getElementById('hours').textContent = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                document.getElementById('minutes').textContent = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                document.getElementById('seconds').textContent = Math.floor((distance % (1000 * 60)) / 1000);
            }, 1000);

            // RSVP Form with Firebase
            const rsvpForm = document.getElementById('rsvp-form');
            const submitBtn = document.getElementById('submit-btn');
            const submitText = document.getElementById('submit-text');
            const submitSpinner = document.getElementById('submit-spinner');
            const formMessage = document.getElementById('form-message');
            
            // Elements for displaying wishes
            const wishesList = document.getElementById('wishes-list');
            const loadingWishes = document.getElementById('loading-wishes');
            const noWishes = document.getElementById('no-wishes');
            const wishesError = document.getElementById('wishes-error');
            const wishesCount = document.getElementById('wishes-count');
            const wishesContainer = document.getElementById('wishes-container');
            
            // Function to load wishes from Firebase
            function loadWishes() {
                if (!db) {
                    console.error("Firebase not initialized");
                    loadingWishes.classList.add('hidden');
                    wishesError.classList.remove('hidden');
                    return;
                }
                
                try {
                    loadingWishes.classList.remove('hidden');
                    noWishes.classList.add('hidden');
                    wishesError.classList.add('hidden');
                    
                    // Listen for real-time updates
                    const wishesRef = db.ref('wishes');
                    wishesRef.orderByChild('timestamp').limitToLast(20).on('value', (snapshot) => {
                        loadingWishes.classList.add('hidden');
                        
                        if (!snapshot.exists()) {
                            noWishes.classList.remove('hidden');
                            wishesCount.textContent = "0 ucapan";
                            return;
                        }
                        
                        const wishes = [];
                        snapshot.forEach((childSnapshot) => {
                            wishes.push({
                                id: childSnapshot.key,
                                ...childSnapshot.val()
                            });
                        });
                        
                        // Reverse to show newest first
                        wishes.reverse();
                        
                        // Update count
                        wishesCount.textContent = `${wishes.length} ucapan`;
                        
                        // Clear the list
                        wishesList.innerHTML = '';
                        
                        // Display wishes
                        wishes.forEach(wish => {
                            const wishElement = document.createElement('div');
                            wishElement.className = 'wish-item p-4 rounded-lg';
                            
                            // Format waktu
                            let waktuText = '';
                            if (wish.timestamp) {
                                const waktuDate = new Date(wish.timestamp);
                                if (!isNaN(waktuDate.getTime())) {
                                    waktuText = waktuDate.toLocaleDateString('id-ID', {
                                        day: 'numeric',
                                        month: 'short',
                                        year: 'numeric',
                                        hour: '2-digit',
                                        minute: '2-digit'
                                    });
                                }
                            }
                            
                            // Create avatar based on first letter of name
                            const firstLetter = wish.nama ? wish.nama.charAt(0).toUpperCase() : '?';
                            const avatarColor = getAvatarColor(wish.nama);
                            
                            wishElement.innerHTML = `
                                <div class="flex items-start">
                                    <div class="flex-shrink-0 mr-3">
                                        <div class="w-10 h-10 rounded-full flex items-center justify-center text-white font-bold" style="background-color: ${avatarColor}">
                                            ${firstLetter}
                                        </div>
                                    </div>
                                    <div class="flex-grow">
                                        <div class="flex justify-between items-start mb-1">
                                            <p class="font-bold text-wine">${wish.nama || 'Tamu'}</p>
                                            <p class="text-xs text-gray-500">${waktuText || 'Baru saja'}</p>
                                        </div>
                                        <p class="text-gray-700">${wish.ucapan || ''}</p>
                                    </div>
                                </div>
                            `;
                            wishesList.appendChild(wishElement);
                        });
                        
                    }, (error) => {
                        console.error("Error loading wishes:", error);
                        loadingWishes.classList.add('hidden');
                        wishesError.classList.remove('hidden');
                    });
                    
                } catch (error) {
                    console.error('Error in loadWishes:', error);
                    loadingWishes.classList.add('hidden');
                    wishesError.classList.remove('hidden');
                }
            }
            
            // Function to generate consistent avatar color based on name
            function getAvatarColor(name) {
                if (!name) return '#b76e79';
                
                const colors = [
                    '#b76e79', // soft red
                    '#722F37', // wine
                    '#9c6a7e', // purple
                    '#d4a5a5', // pink
                    '#c86b6b', // coral
                    '#a05858', // brown
                    '#e8a5a5', // light pink
                    '#b56576', // rose
                ];
                
                let hash = 0;
                for (let i = 0; i < name.length; i++) {
                    hash = name.charCodeAt(i) + ((hash << 5) - hash);
                }
                
                const index = Math.abs(hash) % colors.length;
                return colors[index];
            }
            
            // Handle form submission
            rsvpForm.addEventListener('submit', async function(e) {
                e.preventDefault();
                
                if (!db) {
                    showNotification("Database tidak tersedia. Silakan refresh halaman.", true);
                    return;
                }
                
                // Disable submit button and show spinner
                submitBtn.disabled = true;
                submitText.textContent = 'Mengirim...';
                submitSpinner.classList.remove('hidden');
                formMessage.classList.add('hidden');
                
                // Get form data
                const nama = document.getElementById('nama').value.trim();
                const ucapan = document.getElementById('ucapan').value.trim();
                
                // Validate
                if (!nama || !ucapan) {
                    showNotification('Harap lengkapi nama dan ucapan', true);
                    submitBtn.disabled = false;
                    submitText.textContent = 'Kirim';
                    submitSpinner.classList.add('hidden');
                    return;
                }
                
                if (ucapan.length > 500) {
                    showNotification('Ucapan terlalu panjang (maks 500 karakter)', true);
                    submitBtn.disabled = false;
                    submitText.textContent = 'Kirim';
                    submitSpinner.classList.add('hidden');
                    return;
                }
                
                try {
                    // Prepare wish data
                    const wishData = {
                        nama: nama,
                        ucapan: ucapan,
                        timestamp: new Date().toISOString()
                    };
                    
                    // Save to Firebase
                    const newWishRef = db.ref('wishes').push();
                    await newWishRef.set(wishData);
                    
                    // Reset form
                    rsvpForm.reset();
                    
                    // Restore guest name if it was in URL
                    if (guest) {
                        document.getElementById('nama').value = decodeURIComponent(guest.replace(/\+/g, ' '));
                    }
                    
                    // Show success message
                    formMessage.textContent = 'Ucapan berhasil dikirim! Terima kasih atas doanya.';
                    formMessage.className = 'mt-4 text-center text-green-600 font-medium';
                    formMessage.classList.remove('hidden');
                    
                    // Show notification
                    showNotification('Ucapan berhasil dikirim!');
                    
                    // Scroll to top of wishes
                    wishesContainer.scrollTo({ top: 0, behavior: 'smooth' });
                    
                } catch (error) {
                    console.error('Error submitting wish:', error);
                    
                    // Show error message
                    formMessage.textContent = 'Maaf, terjadi kesalahan. Silakan coba lagi.';
                    formMessage.className = 'mt-4 text-center text-red-600';
                    formMessage.classList.remove('hidden');
                    
                    showNotification('Gagal mengirim ucapan. Silakan coba lagi.', true);
                    
                } finally {
                    // Re-enable submit button
                    submitBtn.disabled = false;
                    submitText.textContent = 'Kirim';
                    submitSpinner.classList.add('hidden');
                }
            });

            // Scroll animation for sections
            const observeSections = () => {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('section-visible');
                        }
                    });
                }, { threshold: 0.1 });
                
                document.querySelectorAll('section').forEach(section => {
                    section.classList.add('section-hidden');
                    observer.observe(section);
                });
            };
            
            // Smooth scrolling for navigation links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const targetId = this.getAttribute('href');
                    if (targetId === '#') return;
                    
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop - 20,
                            behavior: 'smooth'
                        });
                    }
                });
            });
            
            // Initialize
            observeSections();
        });
    </script>
</body>
</html>
